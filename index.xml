<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Welcome on RHTE 2023 Edge Lab</title><link>https://RHTE-2023-Edge-Lab.github.io/</link><description>Recent content in Welcome on RHTE 2023 Edge Lab</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 13 Dec 2022 15:22:04 +0100</lastBuildDate><atom:link href="https://RHTE-2023-Edge-Lab.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Goal</title><link>https://RHTE-2023-Edge-Lab.github.io/use-case/goal/</link><pubDate>Tue, 13 Dec 2022 15:22:04 +0100</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/use-case/goal/</guid><description>Your goal will be to deploy everything needed to: read the parcel RFID (using arduino and ESP32), send data to a MQTT broker over wifi, transform those data using Camel-K and send relevant events over Kafka to the headquarter for reporting.
The headquarter is already setup and is waiting for your data!
Once your setup is complete, you should be able to scan your parcels (look around you, there should be four parcels on your table!</description></item><item><title>Create a Kafka User (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/camel-user/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/camel-user/</guid><description>Create a Kafka User for Camel K Integration.
Fist create a secret containing the Kafka User password.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
kind: Secret apiVersion: v1 metadata: name: camel-user stringData: password: s3cr3t type: Opaque Then create the Kafka user for the Camel K Integration. You can use the OpenShift console as used in the previous step.</description></item><item><title>Fix permissions on /dev/ttyUSB0 (Linux only)</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/fix-permissions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/fix-permissions/</guid><description>The /dev/ttyUSB0 device belongs to the &amp;ldquo;dialout&amp;rdquo; group. Therefore, your user should belong to this group to configure the ESP8266.
Run this command:
sudo usermod -a -G dialout $(id -un) Then, close Visual Studio Code and re-run it with the new group membership:
su -c code $(id -un)</description></item><item><title>Fix permissions on /dev/ttyUSB0 (Linux only)</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/fix-permissions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/fix-permissions/</guid><description>The /dev/ttyUSB0 device belongs to the &amp;ldquo;dialout&amp;rdquo; group. Therefore, your user should belong to this group to configure the ESP8266.
Run this command:
sudo usermod -a -G dialout $(id -un) Then, close Visual Studio Code and re-run it with the new group membership:
su -c code $(id -un)</description></item><item><title>Install the Kafka Broker (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-cluster/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-cluster/</guid><description>Deploy the Kafka Broker in your namespace by creating 2 Custom Resource Definitions (CRD).
First create a secret containing the Certificate Authority (CA).
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
kind: Secret apiVersion: v1 metadata: name: warehouse-cluster-ca labels: strimzi.io/cluster: warehouse strimzi.io/kind: Kafka data: ca.key: &amp;gt;- LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRd0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1Mwd2dna3BBZ0VBQW9JQ0FRRFFwaXhJOC9UZHNzZ0kKWkNPQXJHNU16ejlsRm00eDV6eFlhS09NdXh4cEg1Wkc2cHNuNkl1MEQramNGVFgrZkJvWGVVOTVSRXZGVHBYZQpzSHJEWXpaN3FHdmRmbkxocGJiQ2tGQ0R1aS92R1psMGFuQmwxWlE4NUptOC9Ra2crTWExQ3dIRUZmTDFsZjVsClg3S2tEaEN6VHp2YVVjL1VBeFJVMlBWbENZUXNuam9IMWhwTGVZMjBuVUNiUzlwdkVUWlltM0ViWUZKZG91QVMKT0kwQ0xYdjd6Vyt0di9JRmp3RFZSWThCZFlyRlhONGNtNnViMzNBUU8rMjNDU1hURkVaS2JRZUpXejdSQXRjTwpEd0hlUk5pN3lxYVNWYjdMYkhtR21xY3pacXFvelVXa0s3cXNZV1EvQ3drdEExRGY0by90eHY4K1E5aTMrbU56CnM0WTV5SmZwNnIzWUFxUkdUYnlwbGRjVU5KazE1MERjSlZiVE5Lb0pzdjhBTjE1TkJYeTRCazZzSDcwUWhoSjYKOFdkOVdqTWFNUWhBanpWWU96N0NDQ2l6WVN5N0F1bnhudFpZTm0rc3ZZeERHem5ITW5jMmF6TEtEMCtBVHhTQwprTi9JOC9NaVdQNHQwcndhbUxVenJJRHg1WFB3Y3l6MFpzTjJxQ2paWlpVN1RaLzVhRmRPNERiWHN1NkVCS0loCnVaMWpzSFdhZWJUTldreXh6TGZZNjVqbFNteGRBU0NPUnB0eGc2SWxQamorclRMbS9UUVE5cWlWUHJ2SnBaVmYKZ1U5MFJuQ09TZFdadi9rRk1rV1VTc01GRkJmbFFkVmI0bCszclRlaXo3TjJobWt4MXFFYUt4M0oySHNEQ0pDZwpyWGg2K1hvRnpJeXNmS2RqeWFYalM3SEdjWUE4QlFJREFRQUJBb0lDQVFDeStWZVRYRy8ybTV5cVZmdCtMR3FRCnlGV0F5TFROYWFTQjBZQTQvMmRuWlFqcTIrTXJZSFkxaGxBZ09MR1FFYlB2M3NjbEprZzRmeWhmVk5KNU4ybE0KdVRPTlV5SUlITFdnUDFwUkpDeHAxSE9sUUlnWlVoTk9DR2szaTNXQkt1U0g5MkVVYWg5Mk9hdDJHWmlLME9YUwphV3pWNE1kOC9RYzdvTDhlWkFOVW9vVDBvOXI2VXRJUzA3RFBoVWxoYkVwSngweEdSMkZmb0k3RUVtNGlLQkhwCjlGYVBtODVtcGp2NHRTbnQvbjJDdmg1b084QUFmTEVMdTl3MDNVdnN1Nzl2cUFhRzlCWDJBNUdsSllwY3RvR1MKMUVuOXpEOVZEejlQRHVuTlZZdWVNRFpFbEo0VHI1YmwzUG1KK3dZc2haTWdTMG8yaHN3blJFaDZ2c3VzVlR5NApoR0M0bTZxV0pTcHlycU9VRlFWenVQSHZGbkhXOVRLZXhnc2VLMkRKRVpDMy84dnoxbkZtdmdhZDJRQ1c4UVE5Ck5JeXloK1JyMC96YnlFaStoM3hzMkFhL1ZTVm5yWWVxMzMvMldZdzFRMTFuaEFoM2JUSGo3M05iR25uT3NiK0UKcnAxOFRHOTUyZDlVZE1FcXd3QkJualVxdFhKbUF4Z3ZFWGh5UkFSakJFRjUrdmRJdjlWQkxBeFFYR2Z3MTFvdApLN1NYLzNFbHpHZnExczBBNlZZME5JZVlUaURqQUplU3JkNmcxc00rck14azN4QkZJdEVYR21YYXhEMW53VklrCkhya085Nktidi9td1Q2VWZraS9CMmpRRmRqWTNGdTdrRVoxTFFnMFVid3A0VXFaUjJqaTFFSld2VVpoa2FTZEwKQmRRRTYraGttdnZ2M2p0S1RSUDBBUUtDQVFFQStRMTVEay9TQUlOTFc3TjkwZTg5bGVHRXdKeTgyVDNXT1p6MAplSm81UWx2eXhhODQvc3RDbmdPeERtT1NkMWVnZEVpVS9BRWgxNVk4aEJudFBYZVY3QmRjT1NUclpiU011T2hpCjdBWmVEUjR0NGZQRzVIRDVyOEx0RStIdE5wWFNjN3BNdXRXZDE1UEFPUUtGQmt6YjVVVVJXdFhhSFBHbnMxSVMKRFhsWmpFOG5LaSt6UHpzTGxiYzlJczhBejJ2d0JreUVFQU9BZUtjSHRZYzBzT2VidUFpcmd6STk4L1RJS1JVQQpjZVYvc3FSR0l6Wm1lZGF0d1ZiTCtPZ0Q0c3BPd2JlYVpDY1FocHRKZ1djZmlUYU1NT296am85dFZNMUNSUGhOClErV1Mwa2pob0czdTE1S2k4ZjhxaGZ3b1l5YWh5ck9oZFN6aFc2amxBcHdaWEt4TnBRS0NBUUVBMW5ncjk3UVQKd3Npd0hteEtpSlRmaEFXbCtTUm5rT1ZqZkxDSkNiV0ZZU2c3VXBvS21QWGx2Q0pWbWQ2QTFCYWNhbnFqU01mRwo4ZjJnRFBISHh4K0tNM28wZ24wRDlDNWtBSUt5YTVkMGxrN1J6M0xXZWpXeks5WC9xR1VaSldJRTBla1VobW9lCnVGaHV6a3BlSW5hV2dxZDVEcU1oaHk0VG1NeWlaa09Fd0lHTkNxYXhYdWg1Qy9JN1hUNTEwNHRwZ1ErWXVrVHgKWGVtVnB3ckU3NGsxOWhZZGRzRS84T1pLUzc2Y205TmZJV3JPckFFZVV5RWFGekJPN0lQeVBCejg5Kys5b2xmYwpRQVlHRzdSYXZtN2RGVERRb01hQXRwbEFBYjZpNTlZSTV5SEx4YXk5QkxpbmMwOE1aZ253U2lIQXMxZjBzb2l0CnhGME1jbjREQlN1bTRRS0NBUUVBcDlxbXZqaVo1dktXZGFXUnBVNURDYU5ISDdJRHJiNzVoVGI5cGRMN3lIZkUKTmV3VTA5VVdmdjBwOWZLeUluRVNtWXpack1idWtpaVZmTXNrbEFybkpvblFCRXVYdzZKZVBibVNBbFdBU2dNUApGWHlCampGK2R6RS9LK2xYUVRUVTlGNlpuRXFnNlV5UmYxcnRZUU9vS092VitJeXRSbGl3bURFMkxaS2VBZXpQCkRxVzdmMkJDUEpPVlJzS1JYenIyT0tpVlVWMnExcVpza2JJZ2x5SmlWelN3cytuR3k0Y3M2Rk5aUzJwTUdKQ1QKSE9SclNLNmh5TzdBNW04cFAwN3VxYTBmQjJVMHhDUWc5SEFXVnhwR2ZpazZ1bGg4YlcweHZ0NUM1UUh6WkhydQpabnZ4UDZWNjRQTURLKzU1SWVwRm5TSllMV3NrTCt5eS9JRk1ycU1LYVFLQ0FRQTErdE1lS2szYTljWVdNaTFrClNRd2szNE1SdlE3d0VqeERFdSs2Nk53a1F3c0RWRkFjaGErSDlhQlQ5UU81M2VNS2pjbHhOUThtc3k1SWM4WlQKb09XWTVVWTRIWjBVSldUNEYrMHVWVlY3eTJUVmNOTDR1WEZhTkNkL3k4cFRkV00vTGdvRGRzdzZtODl2enBuNAoxSjQzVGsyUzJJNUV4dDBaMVU5K3E3bks5aEI0d05IZDBHYy9FWDNOanozNnU1a1hhY1NJQlhnMnFlY0h2eGNvCkx3SE02VzRMQ01LK01FZzgza0h1bW5uVUlGemFRQUhRN0lEem15NFNLM2VabDdZMzlUaG1sdlNSakxLVzRJTUMKY1VibDRYNXhLT1VXa0dYaXlvZVlFRy8zTkxOa0VvRVVvaUZMVFhjU2E2ZjJFSjYreFFHS3VnbjZaVzBQbUJYTQpoRnNoQW9JQkFGak1UZlVNcC96QnBHWUpvY0Rxb0dzMGhIK2xWNXVvaU1oOEsxVytlUzZLU0Y1N2hXS3hmTjBUClRVSHNDcUFoYXpiamFDVXl0QnZvL3NQeVN6WmNGMDcwRVVicm91UVFSMUdQSWtRQnJUY3NubXNHTTV6LzBkZysKQkJ6eEZhQVJDcmhXRzRqNy9Nemg4Z3VHQXpnMENPRGNVUnpsUEFhcmE5U1RxTnU1MWZWWjZOaTJUNzRzTFdTbApRR1hUejl4QzZxKzVmQ1BkbVJBbi9HZWdMcXRxeG5MZnZ3M0pRYnlyUzRPRmtyWk1tV0hRemxDdGZtemtpZm5hClJFUnAwNElIQWFLeUp1SjlOOGxHdkd4ZmxCbFlvdEhuajhVcXF4R1g3eE5XeTRTT2lNR0d1c2F5anNBQTh3Z24KcDBmaEJxajZLSnQ5bFZaUUtaM3QxN3FGY003R1ROVT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo= type: Opaque --- kind: Secret apiVersion: v1 metadata: name: warehouse-cluster-ca-cert labels: strimzi.</description></item><item><title>Install the MQTT Broker (duo A or B)</title><link>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-broker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-broker/</guid><description>Deploy an MQTT broker in your namespace, by deploying this Custom Resource Definition.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
apiVersion: broker.amq.io/v1beta1 kind: ActiveMQArtemis metadata: name: mqtt spec: acceptors: - connectionsAllowed: 20 expose: true name: mqtt port: 1883 protocols: mqtt sslEnabled: false adminPassword: public adminUser: admin console: expose: true deploymentPlan: image: placeholder jolokiaAgentEnabled: false journalType: nio managementRBACEnabled: true messageMigration: false persistenceEnabled: false requireLogin: true size: 1 Now, create a new Kubernetes service to expose your MQTT broker to the internet.</description></item><item><title>Present yourself!</title><link>https://RHTE-2023-Edge-Lab.github.io/preparation/presentation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/preparation/presentation/</guid><description> Fill-in the provided Name Tent templates with your name, role and location. Draw yourself as a Super Hero. Do not forget to draw your Fedora! Add a few super powers!</description></item><item><title>Architecture</title><link>https://RHTE-2023-Edge-Lab.github.io/use-case/architecture/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/use-case/architecture/</guid><description>Data flow 1. The ESP8266 scans incoming and outgoing parcels using an RFID scanner. One ESP8266 is dedicated for incoming parcels and one ESP8266 is dedicated for outgoing parcels.
2. The ESP8266 dedicated to incoming parcels writes the RFID tag identifier in the mqtt-in MQTT topic. The ESP8266 dedicated to outgoing parcels writes the RFID tag identifier in the mqtt-out MQTT topic.
3. The Camel K operator transforms and enriches MQTT messages stored in MQTT topics and injects those enriched data in the kafka-in and kafka-out Kafka topics.</description></item><item><title>Connect your ESP8266</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/connect-esp8266/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/connect-esp8266/</guid><description>Connect ESP8266 to your computer via USB connector.</description></item><item><title>Connect your ESP8266</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/connect-esp8266/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/connect-esp8266/</guid><description>Connect ESP8266 to your computer via USB connector.</description></item><item><title>Create a Kafka User (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-user/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-user/</guid><description>Create a Kafka User for your Kafka cluster as well as a secret containing its password. This Kafka User will be used by MirrorMaker2 deployed in the headquarter to authenticate to your namespaced Kafka Cluster.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
kind: Secret apiVersion: v1 metadata: name: mm2-user stringData: password: s3cr3t type: Opaque --- apiVersion: kafka.</description></item><item><title>Create a Kamelet (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/kamelet/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/kamelet/</guid><description>Create a Kamelet to able Camel K to connect your Kafka cluster.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
apiVersion: camel.apache.org/v1alpha1 kind: Kamelet metadata: name: kafka-sink-scram annotations: camel.apache.org/kamelet.support.level: &amp;#34;Stable&amp;#34; camel.apache.org/catalog.version: &amp;#34;main-SNAPSHOT&amp;#34; camel.apache.org/kamelet.icon: &amp;#34;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA1MDAgNTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MDAgNTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBpZD0iWE1MSURfMV8iPg0KCTxwYXRoIGlkPSJYTUxJRF85XyIgZD0iTTMxNC44LDI2OS43Yy0xNC4yLDAtMjcsNi4zLTM1LjcsMTYuMkwyNTYuOCwyNzBjMi40LTYuNSwzLjctMTMuNiwzLjctMjAuOWMwLTcuMi0xLjMtMTQuMS0zLjYtMjAuNg0KCQlsMjIuMy0xNS43YzguNyw5LjksMjEuNCwxNi4xLDM1LjYsMTYuMWMyNi4yLDAsNDcuNi0yMS4zLDQ3LjYtNDcuNnMtMjEuMy00Ny42LTQ3LjYtNDcuNnMtNDcuNiwyMS4zLTQ3LjYsNDcuNg0KCQljMCw0LjcsMC43LDkuMiwyLDEzLjVsLTIyLjMsMTUuN2MtOS4zLTExLjYtMjIuOC0xOS42LTM4LjEtMjIuMXYtMjYuOWMyMS42LTQuNSwzNy44LTIzLjcsMzcuOC00Ni42YzAtMjYuMi0yMS4zLTQ3LjYtNDcuNi00Ny42DQoJCWMtMjYuMiwwLTQ3LjYsMjEuMy00Ny42LDQ3LjZjMCwyMi42LDE1LjgsNDEuNSwzNi45LDQ2LjN2MjcuM2MtMjguOCw1LjEtNTAuOCwzMC4yLTUwLjgsNjAuNWMwLDMwLjQsMjIuMiw1NS43LDUxLjIsNjAuNXYyOC44DQoJCWMtMjEuMyw0LjctMzcuNCwyMy43LTM3LjQsNDYuNGMwLDI2LjIsMjEuMyw0Ny42LDQ3LjYsNDcuNmMyNi4yLDAsNDcuNi0yMS4zLDQ3LjYtNDcuNmMwLTIyLjctMTYtNDEuOC0zNy40LTQ2LjR2LTI4LjgNCgkJYzE1LTIuNSwyOC4yLTEwLjQsMzcuNC0yMS44bDIyLjUsMTUuOWMtMS4yLDQuMy0xLjksOC43LTEuOSwxMy40YzAsMjYuMiwyMS4zLDQ3LjYsNDcuNiw0Ny42czQ3LjYtMjEuMyw0Ny42LTQ3LjYNCgkJQzM2Mi40LDI5MSwzNDEuMSwyNjkuNywzMTQuOCwyNjkuN3ogTTMxNC44LDE1OC40YzEyLjcsMCwyMy4xLDEwLjQsMjMuMSwyMy4xYzAsMTIuNy0xMC4zLDIzLjEtMjMuMSwyMy4xcy0yMy4xLTEwLjQtMjMuMS0yMy4xDQoJCUMyOTEuOCwxNjguOCwzMDIuMSwxNTguNCwzMTQuOCwxNTguNHogTTE3NiwxMTUuMWMwLTEyLjcsMTAuMy0yMy4xLDIzLjEtMjMuMWMxMi43LDAsMjMuMSwxMC40LDIzLjEsMjMuMQ0KCQljMCwxMi43LTEwLjMsMjMuMS0yMy4xLDIzLjFDMTg2LjMsMTM4LjIsMTc2LDEyNy44LDE3NiwxMTUuMXogTTIyMi4xLDM4NC45YzAsMTIuNy0xMC4zLDIzLjEtMjMuMSwyMy4xDQoJCWMtMTIuNywwLTIzLjEtMTAuNC0yMy4xLTIzLjFjMC0xMi43LDEwLjMtMjMuMSwyMy4xLTIzLjFDMjExLjgsMzYxLjgsMjIyLjEsMzcyLjIsMjIyLjEsMzg0Ljl6IE0xOTkuMSwyODEuMw0KCQljLTE3LjcsMC0zMi4yLTE0LjQtMzIuMi0zMi4yYzAtMTcuNywxNC40LTMyLjIsMzIuMi0zMi4yYzE3LjcsMCwzMi4yLDE0LjQsMzIuMiwzMi4yQzIzMS4yLDI2Ni45LDIxNi44LDI4MS4zLDE5OS4xLDI4MS4zeg0KCQkgTTMxNC44LDM0MC4zYy0xMi43LDAtMjMuMS0xMC40LTIzLjEtMjMuMWMwLTEyLjcsMTAuMy0yMy4xLDIzLjEtMjMuMXMyMy4xLDEwLjQsMjMuMSwyMy4xQzMzNy45LDMzMCwzMjcuNSwzNDAuMywzMTQuOCwzNDAuM3oiLz4NCjwvZz4NCjwvc3ZnPg0K&amp;#34; camel.apache.org/provider: &amp;#34;Apache Software Foundation&amp;#34; camel.apache.org/kamelet.group: &amp;#34;Kafka&amp;#34; labels: camel.apache.org/kamelet.type: &amp;#34;sink&amp;#34; spec: definition: title: &amp;#34;Kafka Sink (SCRAM Authentication)&amp;#34; description: |-Send data to Kafka topics.</description></item><item><title>Create the incoming MQTT Topic (duo A)</title><link>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-topic-in/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-topic-in/</guid><description>Create a topic in your MQTT broker by deploying this Custom Resource Definition.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
kind: ActiveMQArtemisAddress apiVersion: broker.amq.io/v1beta1 metadata: name: esp8266-in spec: addressName: esp8266-in queueName: myQueue0 routingType: anycast</description></item><item><title>Linux</title><link>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/linux/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/linux/</guid><description>OpenShift CLI Install VScode.
sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc sudo sh -c &amp;#39;echo -e &amp;#34;[code]\nname=Visual Studio Code\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc&amp;#34; &amp;gt; /etc/yum.repos.d/vscode.repo&amp;#39; dnf check-update sudo dnf install code Install the PlatformIO IDE plugin for VScode with the following command:
code --install-extension platformio.platformio-ide</description></item><item><title>Pair up!</title><link>https://RHTE-2023-Edge-Lab.github.io/preparation/duo/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/preparation/duo/</guid><description>For the rest of this Lab, you will work in pair programming. With your team members, pair up and assign roles!
Duo A is in charge of implementing the code on ESP8266 to scan the incoming parcels using RFID and send the data over MQTT. Duo B is in charge of implementing the code on ESP8266 to scan the outgoing parcels using RFID and send the data over MQTT. Duo C is in charge of setting up Kafka Broker and implementing the Camel-K integration.</description></item><item><title>Organization</title><link>https://RHTE-2023-Edge-Lab.github.io/use-case/organization/</link><pubDate>Tue, 13 Dec 2022 15:22:04 +0100</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/use-case/organization/</guid><description>At your table, there should be six persons and there should be ten tables. During this lab, you will work in pair programming (that is to say: three duo).
Duo A is in charge of implementing the code on ESP8266 to scan the incoming parcels using RFID and send the data over MQTT. Duo B is in charge of implementing the code on ESP8266 to scan the outgoing parcels using RFID and send the data over MQTT.</description></item><item><title>Create a PlatformIO project</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/create-project/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/create-project/</guid><description>Open VScode and click on the home icon in the status bar. Restart your VSCode if the home icon does not appear.
Then, in the PlatformIO splash screen (PIO HOME tab), click New Project.
Then choose a name for your project (free choice), select the board WeMos D1 R2 and mini, leave the Arduino framework selected and click Finish.
Then, you should see the following files in the left pane of your VScode.</description></item><item><title>Create a PlatformIO project</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/create-project/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/create-project/</guid><description>Open VScode and click on the home icon in the status bar. Restart your VSCode if the home icon does not appear.
Then, in the PlatformIO splash screen (PIO HOME tab), click New Project.
Then choose a name for your project (free choice), select the board WeMos D1 R2 and mini, leave the Arduino framework selected and click Finish.
Then, you should see the following files in the left pane of your VScode.</description></item><item><title>Create Camel K integration for incoming parcels (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/integration-in/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/integration-in/</guid><description>Create the camel Integration for the incoming parcels.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
apiVersion: camel.apache.org/v1 kind: Integration metadata: name: kafkaintegration-in spec: sources: - content: |from(&amp;#34;paho:esp8266-in?brokerUrl=tcp://mqtt-mqtt-0-svc:1883&amp;amp;userName=admin&amp;amp;password=public&amp;#34;) .setHeader(&amp;#34;key&amp;#34;).simple(&amp;#34;${bodyAs(String)}&amp;#34;) .convertBodyTo(String.class) .setBody({ e -&amp;gt; [ parcelNumber: e.in.body, timestamp: new Date().getTime() ] }) .marshal().json() //.to(&amp;#34;log:info&amp;#34;) .to(&amp;#34;kamelet:kafka-sink-scram?bootstrapServers=warehouse-kafka-bootstrap:9092&amp;amp;user=camel&amp;amp;password=s3cr3t&amp;amp;topic=warehouse-in&amp;#34;) name: mqtt-kafka.groovy traits: {}</description></item><item><title>Create the incoming and outcoming Kafka Topics (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-topics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-topics/</guid><description>Create the incoming and outcoming Kafka Topics by deploying these CRDs. One KafkaTopic is used for incoming parcels scanned by one of your ESP826. The other KafkaTopic is used for outcoming parcels scanned by the other ESP826.
First create the KafkaTopic for incoming traffic.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.</description></item><item><title>Create the outgoing MQTT Topic (duo B)</title><link>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-topic-out/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/mqtt-topic-out/</guid><description>Create a topic in your MQTT broker by deploying this Custom Resource Definition.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
kind: ActiveMQArtemisAddress apiVersion: broker.amq.io/v1beta1 metadata: name: esp8266-out spec: addressName: esp8266-out queueName: myQueue0 routingType: anycast</description></item><item><title>MacOS</title><link>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/macos/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/macos/</guid><description>Go to the VScode download page, download the MacOS package and install it.
Open VScode and install the PlatformIO IDE plugin.</description></item><item><title>Add required libraries</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/libraries/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/libraries/</guid><description>Add the following libraries to your PlatformIO project.
MFRC522 In the PlatformIO home screen, open Libraries. In the search field, type: header:MFRC522.h The first result should be MFRC522 by Miguel André Balboa. Click to open it. Click Add to project Click Add PubSubClient In the PlatformIO home screen, open Libraries. In the search field, type: PubSubClient The first result should be PubSubClient by Nick O&amp;rsquo;Leary.</description></item><item><title>Add required libraries</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/libraries/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/libraries/</guid><description>Add the following libraries to your PlatformIO project.
MFRC522 In the PlatformIO home screen, open Libraries. In the search field, type: header:MFRC522.h The first result should be MFRC522 by Miguel André Balboa. Click to open it. Click Add to project Click Add PubSubClient In the PlatformIO home screen, open Libraries. In the search field, type: PubSubClient The first result should be PubSubClient by Nick O&amp;rsquo;Leary.</description></item><item><title>Check the Kafka broker deployment (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/kafka-broker/kafka-test/</guid><description>Kafka pods Go to Workload &amp;gt; Pods and make sure you have similar pods running on your namespace.
Kafka instances Navigate in the OpenShift Administrator console, Operators &amp;gt; Installed Operators. Click on the Red Hat Integration - AMQ Streams operator. Open the All instances tab. Select the Current namespace only option. Make sure you have the following objects:</description></item><item><title>Create Camel K integration for outcoming parcels (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/integration-out/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/integration-out/</guid><description>Create the camel Integration for the outcoming parcels.
To do so, connect to the OpenShift console, select the namespace of your team and click the + button in the top-right corner. Then, copy and paste the following content.
apiVersion: camel.apache.org/v1 kind: Integration metadata: name: kafkaintegration-out spec: sources: - content: |from(&amp;#34;paho:esp8266-out?brokerUrl=tcp://mqtt-mqtt-0-svc:1883&amp;amp;userName=admin&amp;amp;password=public&amp;#34;) .setHeader(&amp;#34;key&amp;#34;).simple(&amp;#34;${bodyAs(String)}&amp;#34;) .convertBodyTo(String.class) .setBody({ e -&amp;gt; [ parcelNumber: e.in.body, timestamp: new Date().getTime() ] }) .marshal().json() //.to(&amp;#34;log:info&amp;#34;) .to(&amp;#34;kamelet:kafka-sink-scram?bootstrapServers=warehouse-kafka-bootstrap:9092&amp;amp;user=camel&amp;amp;password=s3cr3t&amp;amp;topic=warehouse-out&amp;#34;) name: mqtt-kafka.groovy traits: {}</description></item><item><title>Final verification (duo A and B)</title><link>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/verification/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/verification/</guid><description>Operator CRD Navigate in the OpenShift Administrator console, Operators &amp;gt; Installed Operators. Click on the AMQ Broker for RHEL 8.x operator. Open the All instances tab. Select the Current namespace only option. Make sure you have the following objects: Pods Go to Workload &amp;gt; Pods and make sure the pod mqtt-ss-0 is present.
Services Go to Networking &amp;gt; Services and make sure a service named mqtt-lb is present.</description></item><item><title>OpenShift</title><link>https://RHTE-2023-Edge-Lab.github.io/use-case/openshift/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/use-case/openshift/</guid><description>OpenShift cluster An OpenShift cluster is already deployed via RHPDS environment and &amp;ldquo;OpenShift 4.11 Workshop&amp;rdquo; service.
No action is required on your side.
The headquarter and warehouses have dedicated namespaces on this OpenShift cluster:
headquarter warehouse-athens warehouse-brno warehouse-brussels warehouse-bucharest warehouse-dublin warehouse-lisboa warehouse-london warehouse-paris warehouse-stockolm warehouse-varsovia OpenShift Operators All the needed operators are already installed on the Openshift cluster. In the rest of this Lab you will just need to consume the CRD provided by these operators.</description></item><item><title>Test the MQTT broker (duo A and B)</title><link>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/mqtt-broker/test/</guid><description>Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal. In the Web Terminal, open two tabs: one to send messages, one to receive messages.
On the first terminal, connect to your MQTT Broker to read incoming messages.
# Get the load balancer URL generated from the service created LOAD_BALANCER_URL=$(oc get svc mqtt-lb -ojsonpath=&amp;#34;{.status.loadBalancer.ingress[0].hostname}&amp;#34;) # Subscribe to MQTT topic mosquitto_sub -t esp8266-in -h ${LOAD_BALANCER_URL} -p 1883 -u admin -P public On the second terminal, push new messages to your MQTT Broker.</description></item><item><title>Windows</title><link>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/windows/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/pre-requisites/windows/</guid><description>TODO</description></item><item><title>Develop the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/development/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/development/</guid><description>In the left pane of VScode, click the top-left icon to diplay the project&amp;rsquo;s files.
Replace the content of src/main.cpp with the following code.
Warning: you will have to adapt the code a little bit. See below for explanations.
You need to retrieve the load balancer url of the MQTT service.
Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal.</description></item><item><title>Develop the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/development/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/development/</guid><description>In the left pane of VScode, click the top-left icon to diplay the project&amp;rsquo;s files.
Replace the content of src/main.cpp with the following code.
Warning: you will have to adapt the code a little bit. See below for explanations.
You need to retrieve the load balancer url of the MQTT service.
Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal.</description></item><item><title>Final verification (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/verification/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/verification/</guid><description>Camel Integration Navigate in the OpenShift Administrator console, Operators &amp;gt; Installed Operators. Click on the Red Hat Integration - Camel K operator. Open the Integration tab. Select the Current namespace only option. Make sure you have the following objects: Kafka User Navigate in the OpenShift Administrator console, Operators &amp;gt; Installed Operators. Click on the Red Hat Integration - AMQ Streams operator. Open the Kafka User tab. Select the Current namespace only option.</description></item><item><title>Test the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-in/test/</guid><description>Connect to your ESP8266 console Place an RFID tag on the reader Check that the tag id is printed on the console Check that the tag is also sent over Wifi to the MQTT broker: Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal. Run the following commands:
# Get the load balancer URL generated from the service created LOAD_BALANCER_URL=$(oc get svc mqtt-lb -ojsonpath=&amp;#34;{.</description></item><item><title>Test the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266-out/test/</guid><description>Connect to your ESP8266 console Place an RFID tag on the reader Check that the tag id is printed on the console Check that the tag is also sent over Wifi to the MQTT broker: Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal. Run the following commands:
# Get the load balancer URL generated from the service created LOAD_BALANCER_URL=$(oc get svc mqtt-lb -ojsonpath=&amp;#34;{.</description></item><item><title>Test the Camel K Integrations (duo C)</title><link>https://RHTE-2023-Edge-Lab.github.io/camel-k/test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/camel-k/test/</guid><description>Go to the OpenShift Administrator console and click the command line terminal icon &amp;gt;_ in the top-right corner to open a Web Terminal.
Copy and paste the following commands to retrieve events from your Kafka topics.
Connect to one of your kafka pod oc rsh warehouse-kafka-0 Create a client.properties file cat &amp;lt;&amp;lt;EOF&amp;gt; /tmp/client.properties sasl.mechanism=SCRAM-SHA-512 security.protocol=SASL_PLAINTEXT sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required \ username=&amp;#34;mm2&amp;#34; \ password=&amp;#34;s3cr3t&amp;#34;; EOF Connect to your warehouse-in Kafka topic to see your incoming parcels.</description></item></channel></rss>