<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Program the ESP8266 on RHTE 2023 Edge Lab</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/</link><description>Recent content in Program the ESP8266 on RHTE 2023 Edge Lab</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://RHTE-2023-Edge-Lab.github.io/esp8266/index.xml" rel="self" type="application/rss+xml"/><item><title>Fix permissions on /dev/ttyUSB0 (Linux only)</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/fix-permissions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/fix-permissions/</guid><description>The /dev/ttyUSB0 device belongs to the &amp;ldquo;dialout&amp;rdquo; group. Therefore, your user should belong to this group to configure the ESP8266.
Run this command:
sudo usermod -a -G dialout $(id -un) Then, close Visual Studio Code and re-run it with the new group membership:
su -c code $(id -un)</description></item><item><title>Connect your ESP8266</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/connect-esp8266/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/connect-esp8266/</guid><description>Connect ESP8266 to your computer via USB connector.</description></item><item><title>Create a PlatformIO project</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/create-project/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/create-project/</guid><description>Open VScode and click on the home icon in the status bar. Restart your VSCode if the home icon does not appear.
Then, in the PlatformIO splash screen, click New Project.
Then choose a name for your project (free choice), select the board WeMos D1 R2 and mini, leave the Arduino framework selected and click Finish.
Then, you should see the following files in the left pane of your VScode.</description></item><item><title>Add required libraries</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/libraries/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/libraries/</guid><description>Add the following libraries to your PlatformIO project.
MFRC522 In the PlatformIO home screen, open Libraries. In the search field, type: header:MFRC522.h The first result should be MFRC522 by Miguel Andr√© Balboa. Click to open it. Click Add to project Click Add PubSubClient In the PlatformIO home screen, open Libraries. In the search field, type: PubSubClient The first result should be PubSubClient by Nick O&amp;rsquo;Leary.</description></item><item><title>Develop the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/development/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/development/</guid><description>In the left pane of VScode, click the top-left icon to diplay the project&amp;rsquo;s files.
Replace the content of src/main.cpp with the following code.
Warning: you will have to adapt the code a little bit. See below for explanations.
#include &amp;lt;Arduino.h&amp;gt;#include &amp;lt;SPI.h&amp;gt;#include &amp;lt;MFRC522.h&amp;gt;#include &amp;lt;ESP8266WiFi.h&amp;gt;#include &amp;lt;PubSubClient.h&amp;gt; MFRC522 mfrc522; WiFiClient espClient; PubSubClient client(espClient); //WIFI const char* ssid = &amp;#34;&amp;lt;wifi_ssid&amp;gt;&amp;#34;; // SSID Wifi const char* password = &amp;#34;&amp;lt;wifi_password&amp;gt;&amp;#34;; //mot de passe Wifi // MQTT Broker const char *mqtt_broker = &amp;#34;&amp;lt;AWS LB address for MQTT service&amp;gt;&amp;#34;; const char *mqtt_topic = &amp;#34;esp8266-in&amp;#34;; const char *mqtt_username = &amp;#34;&amp;lt;MQTT user&amp;gt;&amp;#34;; const char *mqtt_password = &amp;#34;&amp;lt;MQTT password&amp;gt;&amp;#34;; const int mqtt_port = &amp;lt;MQTT port&amp;gt;; void setup() { Serial.</description></item><item><title>Test the ESP8266 firmware</title><link>https://RHTE-2023-Edge-Lab.github.io/esp8266/test/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://RHTE-2023-Edge-Lab.github.io/esp8266/test/</guid><description> Connect to your ESP8266 console Place an RFID tag on the reader Check that the tag id is printed on the console The tag is also sent over Wifi to the MQTT broker.</description></item></channel></rss>